<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart - Yadav RO Sales & Services</title>
<style>
body { font-family: Arial; padding:20px; text-align:center; margin:0; background:#f5f5f5; }
h2 { color:#0d47a1; margin-bottom:20px; }
.cart-item { display:flex; align-items:center; justify-content:space-between; background:white; padding:10px; border-radius:10px; margin-bottom:10px; box-shadow:0 2px 6px rgba(0,0,0,0.2); }
.cart-item img { width:80px; height:80px; object-fit:contain; border-radius:6px; }
.cart-item p { margin:0; flex:1; text-align:left; padding-left:10px; font-weight:bold; }
.total { font-size:20px; font-weight:bold; margin:20px 0; }
button { padding:12px; border:none; border-radius:6px; cursor:pointer; font-size:16px; font-weight:bold; color:white; width:100%; max-width:300px; margin:5px auto; display:block; }
.pay-btn { background:#0d47a1; }  /* Blue */
.clear-btn { background:#ff9800; } /* Orange */
</style>
</head>
<body>

<h2>Your Cart</h2>

<div id="cartItems"></div>

<p class="total">Total: ₹<span id="totalPrice">0</span></p>

<button class="pay-btn" onclick="proceedToPay()">Proceed to Pay</button>
<button class="clear-btn" onclick="clearCart()">Clear Cart</button>

<script>
function loadCart() {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]");
    const container = document.getElementById("cartItems");
    container.innerHTML = "";
    let total = 0;

    cart.forEach((item, index) => {
        total += item.price;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <p>${item.name} - ₹${item.price}</p>
            <button onclick="removeItem(${index})" style="background:red;width:60px;">X</button>
        `;
        container.appendChild(div);
    });

    document.getElementById("totalPrice").innerText = total;
}

function removeItem(index) {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]");
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    loadCart();
}

function clearCart() {
    localStorage.removeItem("cart");
    loadCart();
}

function proceedToPay() {
    const cart = JSON.parse(localStorage.getItem("cart") || "[]");
    if(cart.length === 0) {
        alert("Cart is empty!");
        return;
    }
    // Calculate total
    let total = cart.reduce((sum, item) => sum + item.price, 0);
    // Redirect to UPI payment (total amount)
    location.href = `upi://pay?pa=rohit.4559@ptyes&pn=YadavRO&am=${total}&cu=INR`;
}

// Load cart on page load
loadCart();
</script>

</body>
</html>
