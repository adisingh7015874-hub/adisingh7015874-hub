<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shopping Cart - Yadav RO</title>
<style>
body { font-family: Arial; padding:20px; background: linear-gradient(white,#e3f2fd); }
h2 { color:#0d47a1; text-align:center; margin-bottom:20px; }
.cart-item { display:flex; align-items:center; background:white; margin-bottom:15px; padding:15px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.2); }
.cart-item img { width:100px; height:100px; object-fit:contain; margin-right:15px; }
.cart-item-details { flex:1; text-align:left; }
.cart-item-details h3 { margin:0; color:#0d47a1; }
.cart-item-details p { margin:5px 0; font-weight:bold; color:red; }
.remove-btn { background:red; color:white; border:none; padding:8px 12px; border-radius:6px; cursor:pointer; }
.total { text-align:right; font-size:22px; font-weight:bold; margin-top:20px; }
.pay-btn { background:#0d47a1; color:white; padding:12px 20px; border:none; border-radius:6px; cursor:pointer; width:100%; margin-top:20px; font-size:18px; }
</style>
</head>
<body>

<h2>Your Cart</h2>

<div id="cart-items"></div>

<div class="total" id="total-price">Total: ₹0</div>

<button class="pay-btn" id="pay-btn">Proceed to Pay</button>

<script>
// Get cart from localStorage
let cart = JSON.parse(localStorage.getItem("cart") || "[]");
const cartItemsContainer = document.getElementById("cart-items");
const totalPriceEl = document.getElementById("total-price");
const payBtn = document.getElementById("pay-btn");

// Render cart dynamically
function renderCart() {
    cartItemsContainer.innerHTML = "";
    if(cart.length === 0){
        cartItemsContainer.innerHTML = "<p>Your cart is empty!</p>";
        totalPriceEl.textContent = "Total: ₹0";
        payBtn.style.display = "none";
        return;
    }

    let total = 0;
    cart.forEach((item, index) => {
        total += item.price;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <div class="cart-item-details">
                <h3>${item.name}</h3>
                <p>Price: ₹${item.price}</p>
            </div>
            <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
        `;
        cartItemsContainer.appendChild(div);
    });

    totalPriceEl.textContent = `Total: ₹${total}`;
    payBtn.style.display = "block";
}

// Remove item
function removeItem(index){
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    renderCart();
}

// Pay button
payBtn.addEventListener("click", () => {
    if(cart.length === 0) { alert("Your cart is empty!"); return; }
    let total = cart.reduce((sum, item) => sum + item.price, 0);
    let upiLink = `upi://pay?pa=rohit.4559@ptyes&pn=YadavRO&am=${total}&cu=INR`;
    window.location.href = upiLink;
});

renderCart();
</script>

</body>
</html>
